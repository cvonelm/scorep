#------------------------------------------------------------------------------
# General Settings
#------------------------------------------------------------------------------

@SCOREP_COMPILER_SUN_FALSE@PREP = @prefix@/bin/scorep -v
@SCOREP_COMPILER_SUN_TRUE@PREP = @prefix@/bin/scorep -v --nocompiler

CC = $(PREP) @CC@
CFLAGS = @CFLAGS@ @OPENMP_CFLAGS@
LDLIBS =

#------------------------------------------------------------------------------
# Rules
#------------------------------------------------------------------------------

OBJECTS = \
	jacobi.o \
	main.o


all: jacobi
#	./jacobi

clean:
	rm -f jacobi $(OBJECTS) jacobi.c jacobi.h main.c jacobi.c.opari.inc  jacobi.opari.c  jacobi.pomp_init.c  jacobi.pomp_init.o  main.c.opari.inc  main.opari.c
	rm -rf scorep-2*
	rm -rf scorep-measurement-tmp

jacobi: $(OBJECTS)
	$(CC) $(CFLAGS) -o jacobi $(OBJECTS) -lm $(LDLIBS)


.PHONY: all clean
.SUFFIXES: .c .o

.c.o: 
	$(CC) $(CFLAGS) -c $<


%.c:
	cp @abs_srcdir@/$@ .

%.h:
	cp @abs_srcdir@/$@ .

#------------------------------------------------------------------------------
# Dependencies
#------------------------------------------------------------------------------

jacobi.o: jacobi.c jacobi.h
main.o: main.c jacobi.h

