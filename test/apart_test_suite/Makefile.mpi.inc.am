## -*- mode: makefile -*-

## 
## This file is part of the Score-P software (http://www.score-p.org)
##
## Copyright (c) 2009-2011, 
##    RWTH Aachen University, Germany
##    Gesellschaft fuer numerische Simulation mbH Braunschweig, Germany
##    Technische Universitaet Dresden, Germany
##    University of Oregon, Eugene, USA
##    Forschungszentrum Juelich GmbH, Germany
##    German Research School for Simulation Sciences GmbH, Juelich/Aachen, Germany
##    Technische Universitaet Muenchen, Germany
##
## See the COPYING file in the package base directory for details.
##

## file       Makefile.mpi.inc.am
## author     Yury Oleynik <oleynik@in.tum.de>
## maintainer Yury Oleynik <oleynik@in.tum.de>

if MPI_SUPPORTED


## MPI Fortran

##if HAVE_MPIFC

##if FORTRAN_SUPPORT_ALLOCATABLE



check_PROGRAMS                  += mpi_patt_all_test_f90
mpi_patt_all_test_f90_SOURCES    = $(SRC_ROOT)test/apart_test_suite/fortran/calibrate.f90 \
                                   $(SRC_ROOT)test/apart_test_suite/fortran/work.f90 \
                                   $(SRC_ROOT)test/apart_test_suite/fortran/type_convert.f90 \
                                   $(SRC_ROOT)test/apart_test_suite/fortran/distribution.f90 \
                                   $(SRC_ROOT)test/apart_test_suite/fortran/mpi_util.f90 \
                                   $(SRC_ROOT)test/apart_test_suite/fortran/mpi_pattern.f90 \
                                   $(SRC_ROOT)test/apart_test_suite/fortran/mpi_patt_all_test.mod.f90

mpi_patt_all_test_f90_CPPFLAGS   = \
    $(AM_CPPFLAGS)\
    -I$(INC_ROOT)src/adapters/include       \
    -I$(INC_DIR_UTIL)						\
    -I/lrz/sys/mpi_altix/include			\
    -DMPI_VERSION=@HAVE_MPI_VERSION@		\
    @COMPILER_INSTRUMENTATION_CPPFLAGS@

mpi_patt_all_test_f90_LDADD      = $(LIB_DIR_SCOREP)libscorep_mpi.la	



##endif
# if FORTRAN_SUPPORT_ALLOCATABLE

##endif
# if HAVE_MPIFC

endif
# if MPI_SUPPOERTED
